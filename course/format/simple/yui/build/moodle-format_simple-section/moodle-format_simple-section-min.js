YUI.add("moodle-format_simple-section",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)};M.format_simple=M.format_simple||{},M.format_simple.section=M.format_simple.section||{},M.format_simple.section.init_section=function(e){return new n(e)},e.extend(n,e.Base,{initializer:function(t){e.all(".content--editing").each(function(t){var n=e.Node.create('<a href="#" class="content-toggle" title="Click to expand or collapse" data-text-swap="Hide">Show</a>');t.insert(n,"before")}),e.all(".section .content-toggle").on("click",this.toggle_content,this),t&&t.sectionid&&this.scroll_to_section_and_reveal(t.sectionid)},scroll_to_section_and_reveal:function(t){var n=e.one("#section-"+t);if(n){var r=n.getY()-(e.one(".navbar").get("offsetHeight")+parseFloat(e.one(".navbar").getComputedStyle("marginTop"))+parseFloat(e.one(".navbar").getComputedStyle("marginBottom"))),i=new e.Anim({duration:.5,node:"win",easing:"easeBoth",to:{scroll:[0,r]}});i.run(),i.on("end",function(){n.one(".content-toggle").simulate("click")})}},toggle_content:function(e){var t=e.target;t.next(".content--editing").toggleView(0,function(){t.get("text")===t.getData("text-swap")?t.set("text",t.getData("text-original")):(t.setData("text-original",t.get("text")),t.set("text",t.getData("text-swap")))}),e.preventDefault()}},{NAME:"simple_section",ATTRS:{}})},"@VERSION@",{requires:["base","node","anim"]});
